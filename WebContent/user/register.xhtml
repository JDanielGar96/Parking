<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:loadBundle basename="labels" var="lbl" />
	<title><h:outputText value="#{lbl.registerTitle}" /></title>
	<h:outputStylesheet library="css" name="register.css"  />
</h:head>
<h:body class="register-container">
	<h1>Registrar</h1>
	<h:form class="register-form">
		<div class="input-validation">
			<div class="input-group">
				<h:outputLabel value="#{lbl.login}" />
				<p:inputText 
					value="#{registrationBean.user.login}" 
					required="true"
					id="login"
					requiredMessage="El login es requerido."
				>
					<f:validator validatorId="com.unbosque.validators.LoginValidator" />
				</p:inputText>
			</div>
			<p:message for="login" />
		</div>
		<div class="input-validation">
			<div class="input-group">
				<h:outputLabel value="#{lbl.password}" />
		    	<p:password
					value="#{registrationBean.user.clave}" 
					required="true"
					id="password"
					requiredMessage="La clave es requerida."
					maxlength="8"
					validatorMessage="El password debe tener minimo 5 caracteres."
				>
					<f:validateLength minimum="5" />
				</p:password>
			</div>
			<p:message for="password" />
		</div>
		<div class="input-validation">
			<div class="input-group">
				<h:outputLabel value="#{lbl.names}" />
				<p:inputText 
					value="#{registrationBean.user.apellidosNombres}"
					required="true"
					id="surnames"
					requiredMessage="Nombres y apellidos requeridos."
				/>
			</div>
			<p:message for="surnames" />
		</div>
		<div class="input-validation">
			<div class="input-group">
			    <h:outputLabel value="#{lbl.mail}" />
			    <p:inputText 
			    	value="#{registrationBean.user.correo}" 
			    	id="email" 
			    	required="true" 
			    	label="email"
					requiredMessage="Correo requerido."
				>
					<f:validator validatorId="com.unbosque.validators.EmailValidator" />
			    </p:inputText>
			</div>
			<p:message for="email" />
		</div>
		<div class="input-validation">
			<div class="input-group">
				<h:outputLabel value="#{lbl.phone}" />
				<p:inputText 
					value="#{registrationBean.user.celular}" 
					required="true"
					type="number"
					id="number" 
					requiredMessage="El numero es requerido."
					validatorMessage="Numero invalido, rangos de 7 a 12 digitos."
				>
				    <f:validateLongRange
				        minimum="1000000000"
				        maximum="999999999999"/>
				</p:inputText>
			</div>
			<p:message for="number" />
		</div>
		<div class="input-validation">
			<div class="input-group">
				<h:outputLabel value="#{lbl.address}" />
				<p:inputText 
					value="#{registrationBean.user.direccion}" 
					required="true"
					id="address" 
					requiredMessage="La direccion es requerida."
				/>
			</div>
			<p:message for="address" />
		</div>
		<div class="input-validation">
			<div class="input-group">
				<h:outputLabel value="#{lbl.creditCard}" />
				<p:inputText 
					value="#{registrationBean.user.tcredito}" 
					required="true"
					type="number"
					id="credit-card" 
					requiredMessage="Tarjeta de credito requerida."
					validatorMessage="Tajeta de credito no valida."
				>
				    <f:validateLongRange
				        minimum="100000000000000"
				        maximum="9999999999999999"/>
				</p:inputText>
			</div>
			<p:message for="credit-card" />
		</div>
		<div class="input-validation">
			<div class="input-group">		
				<h:outputLabel value="#{lbl.userTipe}" />
				<p:selectOneMenu styleClass="menu-button" value="#{registrationBean.user.tipoUsuario}" required="true">
					<f:selectItem itemLabel="#{lbl.ownerUser}" itemValue="#{lbl.userOwnerTipe}" />
					<f:selectItem itemLabel="#{lbl.clientUser}" itemValue="#{lbl.userClientTipe}" />
		         </p:selectOneMenu>
			</div>
		</div>
			
		<h:commandButton action="#{registrationBean.createUser}" styleClass="register-button" value="#{lbl.register}"/>  
		
		<p:link outcome="/index.xhtml" value="#{lbl.goBack}" />
	</h:form>
</h:body>
</html>
